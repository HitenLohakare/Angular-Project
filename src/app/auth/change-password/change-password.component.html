<div class="main-wrapper">
  <div class="container-fluid">
    <div class="row justify-content-center align-items-center">
      <div class="col-lg-12 col-md-10 col-sm-12 d-flex justify-content-center" style="height: 80vh; margin-top: 10vh;">

        <form [formGroup]="passwordForm"
              (ngSubmit)="onSubmit()"
              class="w-100 px-4 pb-4 pt-0"
              style="max-width: 450px;">

          <!-- Logo (No extra space) -->
          <div class="text-center m-0 p-0">
            <img src="assets/img/provilac-logo.png"
                 style="width: 35%;"
                 class="img-fluid"
                 alt="Logo">
          </div>

          <!-- Heading -->
          <div class="text-center mt-2 mb-3">
            <h2 class="mb-1 mt-0">Change Password</h2>
            <p class="mb-0">Enter your current password and choose a new one</p>
          </div>

          <!-- Old Password -->
          <div class="mb-3">
            <label class="form-label">Old Password</label>
            <div class="position-relative">
              <input [type]="showOldPassword ? 'text' : 'password'"
                     class="form-control"
                     [class.is-invalid]="passwordForm.get('oldPassword')?.invalid && passwordForm.get('oldPassword')?.touched"
                     formControlName="oldPassword">
              <span (click)="showOldPassword = !showOldPassword"
                    class="position-absolute end-0 top-50 translate-middle-y me-3 cursor-pointer">
                <i class="bi" [class.bi-eye]="showOldPassword" [class.bi-eye-slash]="!showOldPassword"></i>
              </span>
            </div>
          </div>

          <!-- New Password -->
          <div class="mb-3">
            <label class="form-label">New Password</label>
            <div class="position-relative">
              <input [type]="showNewPassword ? 'text' : 'password'"
                     class="form-control"
                     [class.is-invalid]="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched"
                     formControlName="newPassword">
              <span (click)="showNewPassword = !showNewPassword"
                    class="position-absolute end-0 top-50 translate-middle-y me-3 cursor-pointer">
                <i class="bi" [class.bi-eye]="showNewPassword" [class.bi-eye-slash]="!showNewPassword"></i>
              </span>
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="mb-4">
            <label class="form-label">Confirm New Password</label>
            <div class="position-relative">
              <input [type]="showConfirmPassword ? 'text' : 'password'"
                     class="form-control"
                     [class.is-invalid]="(passwordForm.get('confirmPassword')?.invalid || passwordForm.errors?.['mismatch']) && passwordForm.get('confirmPassword')?.touched"
                     formControlName="confirmPassword">
              <span (click)="showConfirmPassword = !showConfirmPassword"
                    class="position-absolute end-0 top-50 translate-middle-y me-3 cursor-pointer">
                <i class="bi" [class.bi-eye]="showConfirmPassword" [class.bi-eye-slash]="!showConfirmPassword"></i>
              </span>
            </div>
          </div>

          <!-- Button -->
          <div class="mb-3">
            <button type="submit" [disabled]="passwordForm.invalid" class="btn btn-primary w-100">
              Update Password
            </button>
          </div>

        </form>

      </div>
    </div>
  </div>
</div>
